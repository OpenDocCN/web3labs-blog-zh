# 第 2 层:为了可伸缩性，而不是隐私

> 原文:[https://blog . web 3 labs . com/layer 2-for-scalability-not-privacy](https://blog.web3labs.com/layer2-for-scalability-not-privacy)

在我之前的关于[企业区块链向左移动](https://blog.web3labs.com/enterprise-blockchain-moving-left)的博客文章中，我写道私人数据不应该在共享的区块链上，相反，我们应该使用这些网络作为事实的来源。在这个真实的来源上，我们会发布锚点，以及其中的数据，我们会乐意作为锚定过程的一部分公开。

如果我们深入了解这一现象，我们就会明白，隐私的需求绝不会消失，相反，我们只是优化了维护隐私的方式。随着公共无许可区块链迎接挑战，并提供始终可用的廉价交易，对带宽没有重大限制，在这些基础上而不是昂贵的私人许可网络上进行建设是有意义的。

作为网络结构的一部分，作为以低成本提供足够交易带宽的核心构建块，我们发现两个核心元素:分片和第二层。

切割很容易获得高层次的视角，因为它们有点像通常所说的[侧链](https://ethereum.org/en/developers/docs/scaling/sidechains/)。与 sidechains 不同的是，通过 proof-of-stake 提供的额外安全性，我们能够共享单一共识网络，从而为我们提供可扩展的安全性。正因为如此，我们可以将我们的资源集中在一个链上，随着它变得更加分散，我们可以获得整体上更好的安全性。

这与将我们的资源分散到许多独立的区块链非常不同。如果我们试图过度扩展侧链模型，我们可能会在安全方面分散自己，从而更容易攻击单个链。由于通过资产的桥接，链变得交织在一起，任何一个链上的安全损失都会对所有链造成损害。

因此，拥有一个真实的来源，并确保第 1 层网络的安全性和可靠性始终得到维护是有意义的。通过分片，我们极大地增加了第 1 层网络的带宽，进一步减少了对其他侧链的争论。

但是，对于我们可以拥有多少个碎片，以及我们希望在第 1 层区块链上进行何种类型的交易，都有技术上的限制。这就是第二层变得更加有趣的地方。

作为一个术语，第 2 层有点臃肿，因为它现在被用于一些不同的用例。这些使用案例中的每一种都有不同的第 2 层技术，这使情况变得更加复杂。让我们定义一下我说的第二层是什么意思。

第 2 层通过数据共享机制锚定到第 1 层网络，确保第 2 层系统的完整性和正确行为。如果这种完整性由于某种原因被破坏，绑定到第 1 层系统的机制允许诚实的参与者挑战第 2 层系统的当前状态并纠正它。这是一种复杂的说法，即第 2 层系统的安全性等同于或相当于第 1 层系统。因此，我对存储在第 2 层系统上的我的事务、我的资产和其他属性保持与第 1 层系统相同的标准有着同样的信心。

从可伸缩性的角度来看，这太棒了，因为需要从第 2 层系统锚定到第 1 层区块链的数据量少于在第 2 层系统上改变的状态总量。我们获得了某种压缩优势，这使得第 2 层系统上的事务带宽比第 1 层网络上支持此吞吐量所需的带宽更大。

在构建第 2 层解决方案时，涉及到几种不同的核心技术，称为乐观汇总和基于零知识证明的汇总(zkp)。乐观的汇总今天在这里，ZKP 为基础的汇总可能会在一年或两年内为一整套用例做好生产准备。从长远来看，我们可能会完全过渡到基于 ZKP 的汇总，因为它们给我们提供了加密的有效性证明，此外还有其他一些好处。值得注意的是，zkp 不是用于在这种情况下保持数据私有，而是提供有效性的加密证明。

那么，第 2 层系统也能解决我们的隐私需求吗？我认为技术可以在这方面发挥作用，但我不认为我们应该将第 2 层系统本身视为隐私层，因为它再次意味着将私人数据放在公共基础设施上。相反，我们应该将第二层视为可伸缩层。如果说第一层网络的存在是为了确保终极真理的单一来源，那么第二层则是为了给我们提供在全球范围内利用这一真理来源所需的带宽。

为什么我说将数据放在第 2 层等同于将数据放在公共基础设施上，因此第 2 层对私有数据没有好处？就像我们希望我们的第 1 层网络是分散的，不受任何一个实体的控制，出于可用性的原因，我们也希望我们的第 2 层是分散的。这意味着不应该有一个第 2 层服务的运营商，而是多个独立的实体应该竞争谁来运行当前活跃的第 2 层服务。

我们需要理解，与第 1 层网络(在一个大网络中由许多相同的节点组成)相反，第 2 层系统由一台服务器组成。这台服务器接收事务并按顺序处理它们。然后，它使用汇总技术拍摄常规快照，并将其放在第 1 层网络上。如果这台服务器出现故障，会发生什么？与任何高可用性 IT 系统一样，我们需要备份。但是第二层的备份不应该只在不同的数据中心运行，还应该由不同的运营商运行。通过第 1 层上的智能合同，多个运营商可以相互竞争运行第 2 层服务的特权。最具成本效益的运营商在任何时候都可以运营这项服务。当事务由该服务处理时，所有其他第 2 层备份操作员需要能够连续访问已处理和待处理的事务，以便在当前操作员退出时，他们可以从当前操作员离开的地方继续工作。

这通常被称为数据可用性。如果没有任何有意愿的第二层运营商共享数据，我们就无法降低审查风险。如果任何当前的第 2 层操作员未能履行其管理职责，部署在第 1 层的分散逻辑将自动将他们踢出局，并允许下一个有意愿的操作员取代他们。(顺便说一下，这对于第 2 层服务的普通用户来说是透明的。)

由此可见，私有数据在第 2 层上不可能真正保持私有，因为它需要发布到第 2 层运营商和节点的网络上。您可能会认为可以使用 ZKPs 来隐藏事务的具体内容，但这是有限制的。虽然随着时间的推移，情况可能会有所改善，但我怀疑是否值得付出努力和复杂性来使第 2 层系统成为完全私有的交易场所。

从上面，我们可以开始看到多层架构的出现。在第 1 层网络的底部，多个分散的节点参与网络以建立共享的信任层。虽然带宽有限，以确保系统通过利益证明和分片等机制保持分散和安全，但当它们与许多第 2 层网络结合时，我们能够提供足够的带宽来满足全球需求。然后，这些第 2 层解决方案构建在这个全球第 1 层网络之上。

通过零知识证明和针对第 1 层的数据锚定，第 2 层系统与其锚定网络共享相同的安全性。通过汇总数据压缩过程，第 2 层系统上的带宽大于第 1 层网络上的带宽，以合理的价格为我们提供了大量的事务吞吐量。

这就是为什么第二层主要是关于可伸缩性，我认为我们应该避免把私有数据放在上面，即使是加密的，因为私有数据应该保持私有。然而，我认为我们可以在第二层的基础上解决这个问题，在我的下一篇博文中，我将把它描述为第三层。

有任何问题或意见吗？我们希望收到您的来信！如果你想更多地了解区块链，它的成长和最新的发展，那么看看我们的[博客](https://blog.web3labs.com/)或者听听我们启发性的 [Web3 创新者播客](https://podcast.web3labs.com/)。